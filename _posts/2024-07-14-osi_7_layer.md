---
layout: post
title: OSI 7 계층의 정의 및 개념
categories: [OSI, Network]
description: OSI 7 계층의 정의 및 개념에 대해서 설명합니다. 
keywords: OSI, Netkwork
toc: true
toc_sticky: true
---

## OSI 7 계층

OSI(Open Systems Interconnection) 모델은 네트워크 통신을 7개의 계층으로 나누어 설명하는 모델입니다. 각 계층은 특정한 네트워크 기능을 담당하며, 서로 다른 네트워크 장비와 소프트웨어가 상호 작용할 수 있도록 합니다.

<img src="/assets/images/osi-model-7-layers.png" width="80%" alt="OSI 7 Layer"/>

> 출처 : https://www.bmc.com/blogs/osi-model-7-layers/

<br>

OSI 7 계층에는 물리계층, 데이터 링크 계층, 네트워크 계층, 트랜트포트 계층, 세션 계층, 프리젠테이션 계층, 어플리케이션 계층이 있는데, 각 계층별로 어떤 역할을 하는지 살펴보겠습니다.

<br>


### **물리 계층 (Physical Layer)**

전기적 신호, 광 신호, 무선 신호 등을 통해 물리적인 연결을 제공합니다.

- 케이블, 리피터, 허브, 모뎀, 네트워크 어댑터, 전송 매체, 광섬유, 동축 케이블, UTP 케이블 등이 이 계층에 속합니다.

<br>

### **데이터 링크 계층 (Data Link Layer)**

물리 계층을 통해 전송된 데이터를 프레임 단위로 나누어 전송하며, 오류 검출 및 수정 기능을 제공합니다.  또한 이 계층에서는 출발지와 목적지를 확정하고 데이터를 읽습니다. 데이터 링크 계층에서 쓰이는 장비와 정보는 다음과 같습니다.

- 스위치(Switch) : 네트워크 장비로, 데이터 프레임을 목적지 MAC 주소를 기반으로 전송합니다. 여러 장치 간의 통신을 효율적으로 관리하고 충돌을 줄이는 역할을 합니다.
- 브릿지(Bridge) : 두 개 이상의 네트워크 세그먼트를 연결하여 하나의 네트워크처럼 동작하게 합니다. 데이터 프레임을 필터링하고, 네트워크 세그먼트 간의 트래픽을 관리합니다.
- MAC 주소 :  네트워크 인터페이스 카드 (NIC) 마다 고유하게 부여된 하드웨어 주소입니다. 데이터 링크 계층에서 장치 식별을 위해 사용됩니다.
- ARP(Address Resolution Protocol) : IP 주소를 MAC 주소로 변환하는 프로토콜입니다. 네트워크 통신 시 IP 주소를 기반으로 MAC 주소를 찾아 데이터 링크 계층에서 데이터를 전달합니다.

> :bulb: [ NOTE ] <br>
> 네트워크 인터페이스 카드(NIC: Network Interface Card) 는 LAN 카드, NIC, 네트워크 인터페이스 카드, 네트워크 카드, 네트워크 인테페이스 컨트롤러 등 다양하게 불리기도 합니다.

<br> 

### **네트워크 계층 (Network Layer)**

네트워크 계층에서는 주로 라우터를 통해서 수행되는데, 라우터는 데이터 패킷을 출발지에서 목적지로 전달하기 위해 경로를 선택하고 데이터를 전송하는 기능을 담당합니다. 라우터의 주요 수행 사항은 다음과 같습니다

1. **경로 선택 (Routing):**
    - 라우터는 다양한 경로 선택 알고리즘을 사용하여 데이터 패킷의 최적 경로를 결정합니다. 이를 통해 데이터가 효율적이고 빠르게 목적지에 도달할 수 있습니다.
    - **클래스 A,B,C 에서 익스트라 알고리즘**과 **벨만-포드 알고리즘**은 라우터에서 흔히 사용되는 경로 선택 알고리즘입니다.

2. **패킷 전달 (Packet Forwarding):**
    - 라우터는 수신한 데이터 패킷을 분석하고, 목적지 IP 주소를 기반으로 다음 홉(next hop)으로 패킷을 전달합니다.
    - 이를 위해 라우팅 테이블을 사용하며, 라우팅 테이블에는 목적지 네트워크와 해당 네트워크로 가는 경로 정보가 포함되어 있습니다.
    - 예를 들어, 라우팅 테이블은 다음과 같은 형태로 구성될 수 있습니다
    
| 목적지 네트워크 | 서브넷 마스크 | 게이트웨이 | 인터페이스 | 메트릭 |
| --- | --- | --- | --- | --- |
| 192.168.1.0 | 255.255.255.0 | 192.168.1.1 | eth0 | 1 |
| 10.0.0.0 | 255.0.0.0 | 10.0.0.1 | eth1 | 1 |
| 0.0.0.0 | 0.0.0.0 | 203.0.113.1 | eth2 | 10 |

```
    **목적지 네트워크**: 패킷이 도달해야 하는 네트워크 주소입니다.
    **서브넷 마스크**: 네트워크 주소와 호스트 주소를 구분하는 데 사용됩니다.
    **게이트웨이**: 패킷을 다음 홉으로 전달하는데 사용되는 라우터의 주소입니다.
    **인터페이스**: 패킷을 전송하는 데 사용되는 네트워크 인터페이스입니다.
    **메트릭**: 경로의 우선순위를 나타내며, 값이 낮을수록 우선순위가 높습니다.
```

3. **논리적 주소 지정 (Logical Addressing):**
    - 라우터는 IP 주소를 사용하여 네트워크 상의 장치들을 식별합니다. 이는 데이터 패킷이 올바른 장치로 전달되도록 합니다.
    - IPv4와 IPv6 주소 체계를 모두 지원하며, IP 주소를 기반으로 경로를 결정합니다.

4. **서브넷 마스킹 (Subnet Masking):**
    - 라우터는 서브넷 마스크를 사용하여 네트워크 주소와 호스트 주소를 구분합니다. 이를 통해 네트워크를 서브넷으로 나누고, 효율적인 IP 주소 관리를 가능하게 합니다.

5. **프로토콜 지원 (Protocol Support):**
    - 라우팅 프로토콜은 네트워크 내에서 데이터 패킷의 최적 경로를 결정하기 위해 사용하는 규칙과 알고리즘의 집합입니다. 주요 라우팅 프로토콜에는 다음과 같은 것들이 있습니다:

    1. **OSPF (Open Shortest Path First)**:
        - 링크 상태 라우팅 프로토콜입니다.
        - 다익스트라 알고리즘을 사용하여 최단 경로를 계산합니다.
        - 대규모 네트워크에서 효율적입니다.
    2. **RIP (Routing Information Protocol)**:
        - 거리 벡터 라우팅 프로토콜입니다.
        - 각 라우터가 인접 라우터와 거리 정보를 주고받아 경로를 설정합니다.
        - 작은 네트워크에서 주로 사용됩니다.
    3. **EIGRP (Enhanced Interior Gateway Routing Protocol)**:
        - 혼합형 라우팅 프로토콜로, 거리 벡터와 링크 상태의 장점을 결합합니다.
        - 빠른 경로 재설정과 효율적인 네트워크 자원 사용을 제공합니다.
    4. **BGP (Border Gateway Protocol)**:
        - 경로 벡터 라우팅 프로토콜입니다.
        - 자율 시스템 간의 경로 정보를 교환하며, 인터넷의 주 라우팅 프로토콜로 사용됩니다.
6. **네트워크 세그먼트 연결 (Interconnecting Network Segments):**
    - 라우터는 서로 다른 네트워크 세그먼트를 연결하여, 데이터가 여러 네트워크를 통해 전달될 수 있도록 합니다. 이는 LAN, WAN 등 다양한 네트워크 환경에서 중요한 역할을 합니다.
    - **LAN (Local Area Network) :** LAN은 제한된 지리적 영역 내에서 컴퓨터와 장치들을 연결하는 네트워크입니다. 주로 가정, 사무실, 학교 등의 소규모 네트워크 환경에서 사용됩니다. LAN은 높은 데이터 전송 속도와 낮은 지연 시간을 제공하며, 이더넷이나 Wi-Fi 기술을 사용하여 연결됩니다.
    - **WAN (Wide Area Network) :** WAN은 광범위한 지리적 영역을 커버하는 네트워크로, 여러 도시나 국가를 연결할 수 있습니다. 주로 인터넷 서비스 제공자(ISP)나 대기업에서 사용되며, 여러 LAN을 연결하여 더 큰 네트워크를 형성합니다. WAN은 데이터 전송 속도가 비교적 낮고 지연 시간이 길 수 있지만, 전 세계의 장치들을 연결할 수 있는 장점을 가지고 있습니다.
7. **네트워크 트래픽 관리 (Traffic Management):**
    - 라우터는 네트워크 트래픽을 관리하고, 부하를 분산시켜 네트워크 성능을 최적화합니다. 이를 위해 QoS(Quality of Service) 설정을 통해 특정 트래픽을 우선 처리할 수 있습니다.
 
<br> 

- 네트워크 계층은 데이터 패킷의 경로를 결정하고 전송하는 역할을 하기 위해서, 클래스 별로 네트워크 계층에서 수행하는 주요 알고리즘의 있습니다.
    - **클래스 A, B, C**
    1. **경로 선택 알고리즘 (Routing Algorithm):** 네트워크 내에서 최적의 경로를 선택하기 위해 다양한 알고리즘을 사용합니다.
        - **다익스트라 알고리즘 (Dijkstra's Algorithm)**: 최소 비용 경로를 찾기 위해 사용되는 알고리즘입니다. 모든 노드를 탐색하여 출발지에서 목적지까지의 최단 경로를 계산합니다.
        - **벨만-포드 알고리즘 (Bellman-Ford Algorithm)**: 경로의 가중치를 음수로도 허용하는 알고리즘으로, 다익스트라 알고리즘에 비해 계산 시간이 더 걸리지만, 다양한 네트워크 환경에서 사용될 수 있습니다.
        - **링크 상태 알고리즘 (Link State Algorithm)**: 네트워크의 모든 노드가 전체 네트워크의 상태를 알고 있는 상태에서 최적의 경로를 찾습니다. OSPF(Open Shortest Path First)가 대표적인 예입니다.
        - **거리 벡터 알고리즘 (Distance Vector Algorithm)**: 각 라우터가 인접 라우터와 거리 정보를 주고받으며 경로를 설정합니다. RIP(Routing Information Protocol)가 대표적인 예입니다.
    2. **서브넷 마스킹 (Subnet Masking): 네**트워크 주소와 호스트 주소를 구분하여 IP 주소를 관리합니다. 서브넷 마스크를 사용해 네트워크의 크기를 조절하고, 네트워크를 여러 서브넷으로 나눌 수 있습니다.
        - **예시**: 클래스 C 네트워크에서 서브넷 마스크 255.255.255.0은 256개의 호스트를 지원합니다.
    - **클래스 D**
    1. **멀티캐스트 라우팅 알고리즘 (Multicast Routing Algorithm):**  멀티캐스트 그룹에 속한 여러 수신자에게 데이터를 효율적으로 전송하기 위한 알고리즘입니다.
        - **PIM (Protocol Independent Multicast)**: 멀티캐스트 라우팅을 위해 사용되는 프로토콜로, Dense Mode와 Sparse Mode가 있습니다.
        - **DVMRP (Distance Vector Multicast Routing Protocol)**: 거리 벡터 알고리즘을 기반으로 멀티캐스트 패킷을 전송합니다.
        - **MOSPF (Multicast Extensions to OSPF)**: OSPF 프로토콜에 멀티캐스트 기능을 추가한 것입니다.

<br>
 
4. **전송 계층 (Transport Layer)**

데이터 전송의 신뢰성과 흐름 제어를 담당하며, 양 끝단 간의 데이터 전송을 관리합니다.

- TCP, UDP 프로토콜이 이 계층에 속합니다.

<br>

5. **세션 계층 (Session Layer)**

통신 세션을 설정, 관리, 종료하는 기능을 제공합니다.

- NetBIOS, RTP 등이 이 계층에 속합니다.

<br>

6. **프레젠테이션 계층 (Presentation Layer)**

데이터의 표현 형식을 변환하고, 암호화 및 압축 기능을 제공합니다.

- SSL/TLS, JPEG, MPEG 등이 이 계층에 속합니다.

<br>

7. **응용 계층 (Application Layer)**

사용자와 네트워크 간의 상호작용을 담당하며, 다양한 네트워크 서비스를 제공합니다.

- HTTP, FTP, SMTP 등이 이 계층에 속합니다.